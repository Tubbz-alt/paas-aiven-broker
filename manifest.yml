---
applications:
  - name: aiven-broker
    memory: 128M
    instances: 2
    buildpack: go_buildpack
    env:
      GOVERSION: go1.13
      GOPACKAGENAME: github.com/alphagov/paas-aiven-broker

    command: paas-aiven-broker

  - name: aiven-metrics-converger
    memory: 128M
    instances: 1
    buildpack: go_buildpack

    no-route: true
    health-check-type: process

    env:
      GOVERSION: go1.13
      GOPACKAGENAME: github.com/alphagov/paas-aiven-broker

    command: paas-aiven-broker --process=metrics-converger
